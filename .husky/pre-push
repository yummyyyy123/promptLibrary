#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-push hook for comprehensive security validation
echo "ğŸ”’ Running pre-push security checks..."

# Run full security suite
npm run security:full
if [ $? -ne 0 ]; then
    echo "âŒ Security checks failed. Push aborted."
    exit 1
fi

# Run security tests
npm run test:security
if [ $? -ne 0 ]; then
    echo "âŒ Security tests failed. Push aborted."
    exit 1
fi

echo "âœ… All pre-push checks passed!"
exit 0
